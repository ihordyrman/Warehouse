@page
@model Warehouse.App.Pages.WorkersModel
@{
    ViewData["Title"] = "Workers";
    Layout = null;
}

<div class="flex justify-end mb-6">
    <a asp-page="/WorkersCreate" class="btn-primary">
        <i class="fas fa-plus mr-2"></i>Add Worker
    </a>
</div>

<div id="workers-grid">
    @if (!Model.Workers.Any())
    {
        <div class="text-center py-8 text-gray-500">
            <i class="fas fa-robot text-4xl mb-2"></i>
            <p>@(Model.OnlyEnabled ? "No running workers." : "No workers configured yet.")</p>
        </div>
    }
    else
    {
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            @foreach (WorkersModel.WorkerInfo worker in Model.Workers)
            {
                <partial name="_WorkerCard" model="worker"/>
            }
        </div>
    }
</div>

@functions {

    private string FormatDateTime(DateTime? date)
    {
        if (!date.HasValue)
            return "Never";

        var options = new System.Globalization.CultureInfo("en-US");
        return date.Value.ToString("MMM dd, HH:mm", options);
    }

}
